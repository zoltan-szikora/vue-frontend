(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c0c83"],{"42f5":function(e,t,a){"use strict";a.r(t);var s=a("7a23");function r(e,t,a,r,d,i){var n=Object(s["w"])("update-user-data");return Object(s["p"])(),Object(s["d"])("div",null,[Object(s["g"])(n,{user:e.user},null,8,["user"])])}var d=a("5530"),i=a("5502"),n={key:0,class:"container my-3 pb-5"},c={class:"pt-3"},o={class:"display-5 fw-bold"},l=Object(s["f"])("Edit Profile"),u=Object(s["g"])("hr",{class:"my-4"},null,-1),m={class:"px-4"},p={key:0,class:"alert alert-success rounded-0"},b={key:1,class:"alert alert-danger rounded-0",role:"alert"},O={key:2},j=Object(s["g"])("h2",{class:"col-md-8 fs-4"},"Edit your personal info",-1),g={class:"mx-auto border form-bg px-5 py-3"},f={class:"row"},h={class:"col-md-6 mb-3"},w=Object(s["g"])("label",{for:"firstName"},"First Name",-1),v=Object(s["g"])("span",{class:"invalid-feedback"},"First name is invalid!",-1),U={class:"col-md-6 mb-3"},y=Object(s["g"])("label",{for:"lastName"},"Last Name",-1),P=Object(s["g"])("span",{class:"invalid-feedback"},"Last name is invalid!",-1),N={class:"mb-3"},k=Object(s["g"])("label",{for:"dateOfBirth"},"Date of birth",-1),D=Object(s["g"])("span",{class:"invalid-feedback"},"Date of birth is required!",-1),x={class:"row"},V={class:"col-md-6 mb-3"},M=Object(s["g"])("label",{for:"username"},"Username",-1),A={class:"col-md-6 mb-3"},q=Object(s["g"])("label",{for:"email"},"E-mail",-1),E=Object(s["g"])("span",{class:"invalid-feedback"},"E-mail is required!",-1),B={class:"mb-3"},S=Object(s["g"])("label",{for:"password"},"Password",-1),C=Object(s["g"])("span",{class:"invalid-feedback"},"Password is required!",-1),F={key:0,class:"err-msg"},L={class:"d-grid gap-2 col-4 mx-auto"};function Y(e,t,a,r,d,i){var Y=Object(s["w"])("font-awesome-icon");return a.user?(Object(s["p"])(),Object(s["d"])("div",n,[Object(s["g"])("div",c,[Object(s["g"])("h1",o,[Object(s["g"])(Y,{icon:"user-edit",class:"me-1"}),l]),u]),Object(s["g"])("div",m,[d.success?(Object(s["p"])(),Object(s["d"])("div",p,"Your profile information updated successfully!")):Object(s["e"])("",!0),d.errorMessage?(Object(s["p"])(),Object(s["d"])("div",b,Object(s["y"])(d.errorMessage),1)):Object(s["e"])("",!0),d.success?Object(s["e"])("",!0):(Object(s["p"])(),Object(s["d"])("div",O,[j,Object(s["g"])("form",{name:"update",onSubmit:t[8]||(t[8]=Object(s["E"])((function(){return i.submitUpdatedData&&i.submitUpdatedData.apply(i,arguments)}),["prevent"])),class:"row g-3","accept-charset":"utf-8"},[Object(s["g"])("div",g,[Object(s["g"])("div",f,[Object(s["g"])("div",h,[w,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",name:"firstName","onUpdate:modelValue":t[1]||(t[1]=function(e){return d.updatedUser.firstName=e}),placeholder:"First name",title:d.firstNamePattern,minlength:"2",maxlength:"20",pattern:"[A-Za-záéiíoóöőuúüűÁÉIÍOÓÖŐUÚÜŰ]{2,20}",required:""},null,8,["title"]),[[s["A"],d.updatedUser.firstName,void 0,{trim:!0}]]),v]),Object(s["g"])("div",U,[y,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",name:"lastName","onUpdate:modelValue":t[2]||(t[2]=function(e){return d.updatedUser.lastName=e}),placeholder:"Last name",title:d.lastNamePattern,minlength:"2",maxlength:"20",pattern:"[A-Za-záéiíoóöőuúüűÁÉIÍOÓÖŐUÚÜŰ]{2,20}",required:""},null,8,["title"]),[[s["A"],d.updatedUser.lastName,void 0,{trim:!0}]]),P])]),Object(s["g"])("div",N,[k,Object(s["D"])(Object(s["g"])("input",{type:"date",class:"form-control",name:"dateOfBirth","onUpdate:modelValue":t[3]||(t[3]=function(e){return d.updatedUser.dateOfBirth=e}),min:"1900-01-01",max:e.getCurrentDate,required:""},null,8,["max"]),[[s["A"],d.updatedUser.dateOfBirth]]),D]),Object(s["g"])("div",x,[Object(s["g"])("div",V,[M,Object(s["D"])(Object(s["g"])("input",{type:"text",class:"form-control",name:"username","onUpdate:modelValue":t[4]||(t[4]=function(e){return d.updatedUser.username=e}),readonly:""},null,512),[[s["A"],d.updatedUser.username,void 0,{trim:!0}]])]),Object(s["g"])("div",A,[q,Object(s["D"])(Object(s["g"])("input",{type:"email",class:"form-control",name:"email","onUpdate:modelValue":t[5]||(t[5]=function(e){return d.updatedUser.email=e}),placeholder:"E-mail",required:""},null,512),[[s["A"],d.updatedUser.email,void 0,{trim:!0}]]),E])]),Object(s["g"])("div",B,[S,Object(s["D"])(Object(s["g"])("input",{type:"password",class:["form-control",{invalid:"invalid"===d.passwordValidity}],name:"password","onUpdate:modelValue":t[6]||(t[6]=function(e){return d.currentPassword=e}),placeholder:"Password",required:""},null,2),[[s["A"],d.currentPassword,void 0,{trim:!0}]]),C,"invalid"==d.passwordValidity?(Object(s["p"])(),Object(s["d"])("span",F,"Your password is invalid!")):Object(s["e"])("",!0)]),Object(s["g"])("div",L,[Object(s["g"])("button",{class:"btn btn-teal shadow-none my-3",onClick:t[7]||(t[7]=function(e){return d.submitted=!0}),disabled:d.loading},"Submit",8,["disabled"])])])],32)]))])])):Object(s["e"])("",!0)}var z=a("1f57"),G=a("279c"),I=a.n(G),J={data:function(){return{salt:I.a.genSaltSync(10),currentPassword:"",passwordValidity:"pending",updatedUser:Object(d["a"])({},this.user),success:!1,loading:!1,submitted:!1,errorMessage:"",currentDate:"",firstNamePattern:"",lastNamePattern:"",passwordPattern:""}},props:{user:{type:Object}},computed:Object(d["a"])({},i["b"].mapGetters(["getCurrentDate"])),methods:Object(d["a"])(Object(d["a"])({},i["b"].mapActions(["updateUser"])),{},{submitUpdatedData:function(){var e=this;if(this.loading=!0,this.updatedUser.firstName&&this.updatedUser.lastName&&this.updatedUser.dateOfBirth&&this.updatedUser.email&&this.updatedUser.username&&this.currentPassword){if(this.currentPassword!=this.user.password&&!I.a.compareSync(this.currentPassword,this.user.password))return this.loading=!1,void(this.passwordValidity="invalid");this.passwordValidity="valid",this.updatedUser.password=this.currentPassword,z["a"].update(this.updatedUser).then((function(t){t.data.password=e.currentPassword,e.currentPassword="";var a=t.data;e.updateUser(a),e.success=!0,e.errorMessage="",e.$swal({icon:"success",title:"Ok!",showConfirmButton:!1,timer:1500})}),(function(t){t.response?401===t.response.status?e.errorMessage="Password is not valid!":406===t.response.status?e.errorMessage="E-mail is already registered!":e.errorMessage="Error: "+t.response.data.errors[0].defaultMessage:e.errorMessage="Unexpected error: "+(t&&t.errorMessage||t)})).then((function(){e.loading=!1}))}}}),mounted:function(){this.firstNamePattern="First name must be 2 to 20 characters whithout numeric digit.",this.lastNamePattern="Last name must be 2 to 20 characters whithout numeric digit.",this.passwordPattern="Your password must be between 6 and 20 alphanumeric characters. Your password must contain at least one uppercase, or capital, letter, and must contain at least one number digit."}};J.render=Y;var Z=J,$={components:{UpdateUserData:Z},computed:Object(d["a"])({},i["b"].mapGetters(["user"]))};$.render=r;t["default"]=$}}]);
//# sourceMappingURL=chunk-2d0c0c83.f1952a98.js.map