(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd420"],{"812c":function(s,e,a){"use strict";a.r(e);var r=a("7a23"),t={class:"container my-3 pb-5"},d={class:"pt-3"},o={class:"display-5 fw-bold"},i=Object(r["f"])("Change password"),n=Object(r["g"])("hr",{class:"my-4"},null,-1),c={key:0,class:"alert alert-success rounded-0"},l={key:1,class:"alert alert-danger rounded-0",role:"alert"},w={key:2,class:"px-4"},u=Object(r["g"])("h2",{class:"col-md-8 fs-4"},"Change your password",-1),p={class:"mx-auto border form-bg px-5 py-3"},b={class:"mb-3"},m=Object(r["g"])("label",{for:"oldPassword"},"Current Password",-1),h=Object(r["g"])("span",{class:"invalid-feedback"},"Password is required!",-1),g={key:0,class:"err-msg"},f={class:"row"},j={class:"col-md-6 mb-3"},O=Object(r["g"])("label",{for:"password"},"New password",-1),P=Object(r["g"])("span",{class:"invalid-feedback"},"New password is required!",-1),v={key:0,class:"err-msg"},y={class:"col-md-6 mb-3"},V=Object(r["g"])("label",{for:"confirmPassword"},"Repeat new password",-1),k=Object(r["g"])("span",{class:"invalid-feedback"},"Confirm password is required!",-1),M={key:0,class:"err-msg"},C={class:"d-grid gap-2 col-4 mx-auto"};function U(s,e,a,U,q,A){var D=Object(r["w"])("font-awesome-icon");return Object(r["p"])(),Object(r["d"])("div",t,[Object(r["g"])("div",d,[Object(r["g"])("h1",o,[Object(r["g"])(D,{icon:"user-shield",class:"me-1"}),i]),n]),q.success?(Object(r["p"])(),Object(r["d"])("div",c,"Your password successfully updated!")):Object(r["e"])("",!0),q.errorMessage?(Object(r["p"])(),Object(r["d"])("div",l,Object(r["y"])(q.errorMessage),1)):Object(r["e"])("",!0),q.success?Object(r["e"])("",!0):(Object(r["p"])(),Object(r["d"])("div",w,[u,Object(r["g"])("form",{name:"update",ref:"form",onSubmit:e[5]||(e[5]=Object(r["E"])((function(){return A.submitUpdatedData&&A.submitUpdatedData.apply(A,arguments)}),["prevent"])),class:"row g-3","accept-charset":"utf-8"},[Object(r["g"])("div",p,[Object(r["g"])("div",b,[m,Object(r["D"])(Object(r["g"])("input",{type:"password",class:["form-control",{invalid:"invalid"===q.passwordValidity}],name:"oldPassword","onUpdate:modelValue":e[1]||(e[1]=function(s){return q.currentPassword=s}),placeholder:"Current Password",required:""},null,2),[[r["A"],q.currentPassword,void 0,{trim:!0}]]),h,"invalid"==q.passwordValidity?(Object(r["p"])(),Object(r["d"])("span",g,"Your password is invalid!")):Object(r["e"])("",!0)]),Object(r["g"])("div",f,[Object(r["g"])("div",j,[O,Object(r["D"])(Object(r["g"])("input",{type:"password",class:["form-control",{invalid:"invalid"===q.newPasswordValidity}],name:"password","onUpdate:modelValue":e[2]||(e[2]=function(s){return q.newPassword=s}),placeholder:"New password",title:q.passwordPattern,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}",required:""},null,10,["title"]),[[r["A"],q.newPassword,void 0,{trim:!0}]]),P,"invalid"==q.newPasswordValidity?(Object(r["p"])(),Object(r["d"])("span",v,"Your new password cannot be same as old password!")):Object(r["e"])("",!0)]),Object(r["g"])("div",y,[V,Object(r["D"])(Object(r["g"])("input",{type:"password",class:["form-control",{invalid:"invalid"===q.confirmPasswordValidity}],name:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=function(s){return q.confirmPassword=s}),placeholder:"Confirm password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}",required:""},null,2),[[r["A"],q.confirmPassword,void 0,{trim:!0}]]),k,"invalid"==q.confirmPasswordValidity?(Object(r["p"])(),Object(r["d"])("span",M,"The password fields must match!")):Object(r["e"])("",!0)])]),Object(r["g"])("div",C,[Object(r["g"])("button",{class:"btn btn-teal shadow-none my-3",onClick:e[4]||(e[4]=function(e){return s.submitted=!0}),disabled:q.loading},"Submit",8,["disabled"])])])],544)]))])}var q=a("5530"),A=a("5502"),D=a("1f57"),S=a("279c"),x=a.n(S),Y={data:function(){return{salt:x.a.genSaltSync(10),hash:"",passwordValidity:"pending",confirmPasswordValidity:"pending",newPasswordValidity:"pending",currentPassword:"",newPassword:"",confirmPassword:"",loading:!1,success:!1,errorMessage:"",passwordPattern:""}},computed:Object(q["a"])({},A["b"].mapGetters(["user"])),methods:Object(q["a"])(Object(q["a"])({},A["b"].mapActions(["updateUser"])),{},{submitUpdatedData:function(){var s=this;if(this.loading=!0,this.currentPassword&&this.newPassword&&this.confirmPassword){if(this.newPassword!=this.confirmPassword)return this.confirmPasswordValidity="invalid",void(this.loading=!1);if(this.confirmPasswordValidity="valid",this.currentPassword!=this.user.password&&!x.a.compareSync(this.currentPassword,this.user.password))return this.passwordValidity="invalid",this.currentPassword="",void(this.loading=!1);if(this.passwordValidity="valid",this.currentPassword==this.newPassword)return this.newPasswordValidity="invalid",void(this.loading=!1);this.hash=x.a.hashSync(this.newPassword,this.salt),D["a"].updatePassword(this.user,this.currentPassword,this.hash).then((function(e){e.data.password=s.newPassword;var a=e.data;s.updateUser(a),s.success=!0,s.errorMessage="",s.$swal({icon:"success",title:"Password Changed!",showConfirmButton:!1,timer:1500})}),(function(e){e.response?401===e.response.status?s.errorMessage="Password is not valid!":406===e.response.status?s.errorMessage="E-mail is already registered!":s.errorMessage="Error: "+e.response.data.errors[0].defaultMessage:s.errorMessage="Unexpected error: "+(e&&e.errorMessage||e)})).then((function(){s.loading=!1}))}}}),mounted:function(){this.passwordPattern="Your password must be between 6 and 20 alphanumeric characters. Your password must contain at least one uppercase, or capital, letter, and must contain at least one number digit."}};Y.render=U;e["default"]=Y}}]);
//# sourceMappingURL=chunk-2d0dd420.d06c8166.js.map